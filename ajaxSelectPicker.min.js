/*!
 ajax-bootstrap-select v1.0.6
 https://github.com/truckingsim/Ajax-Bootstrap-Select

 @author Adam Heim originally for CROSCON
 @copyright 2014 ajax-bootstrap-select
 @license Licensed under the MIT license
 @version 1.1.0
 */
!function(e){e.ajaxSelectPicker=function(t,n){var a,i={9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",39:"right",38:"up",40:"down",229:"unknown"},o={url:null,placeholder:null,inputWait:400,source:function(t,n,a){return null==t.url?r.log("You must provide a valid url option",!0):void e.ajax({url:t.url,type:t.ajaxOptions.type,data:t.ajaxOptions.data(t.q),dataType:t.ajaxOptions.dataType,success:function(e){"function"==typeof t.preResults&&(e=t.preResults(e)),n(e)}}).fail(a)},preResults:null,ajaxOptions:{type:"GET",data:function(e){return{q:e}},dataType:"json"},debug:!1},r=this,s=e.extend({},o,n),u=e(t),l=function(){r.$menu.find("li").remove(),u.children().remove()};"undefined"!=typeof n.ajaxOptions&&(s.ajaxOptions=e.extend({},o.ajaxOptions,n.ajaxOptions)),r.init=function(){return u.attr("data-search-url")&&(s.url=u.attr("data-search-url")),u.data().hasOwnProperty("selectpicker")||u.selectpicker(),"function"!=typeof s.source?r.log("The callback provided is invalid"):(e.extend(r,u.data().selectpicker),r.$searchbox.off("input"),void r.$searchbox.on("keydown",function(e){return"undefined"==typeof i[e.keyCode]?!0:(clearTimeout(a),void(a=setTimeout(function(){l(),r.$menu.find("ul").append('<li class="disabled"><a style="cursor:default;"><span class="text">Loading</span></a></li>'),r.provide_suggestions()},o.inputWait)))}))},r.handle_triggers=function(e,t){return"refresh"==e?(console.log("refreshing"),r.refresh(),t):"val"===e?t.val():void r.log("Invalid Option Provided",!0)},r.processing_error=function(){return l(),r.$menu.find("ul").append('<li class="disabled"><a style="cursor:default;"><span class="text">Error Loading Data :-(</span></a></li>'),r.refresh(),!1},r.provide_suggestions=function(){s.source({url:s.url,ajaxOptions:s.ajaxOptions,q:r.$searchbox.val(),preResults:s.preResults},function(t){r.$menu.find(".menu-loading").remove();var n="";null!=s.placeholder&&(n+='<option data-hidden="true">'+s.placeholder+"</option>"),e.each(t,function(e,t){n+="<option","undefined"!=typeof t.icon&&(n+=' data-icon="'+t.icon+'"'),"undefined"!=typeof t.class&&(n+=' class="'+t.class+'"'),"undefined"!=typeof t.subtext&&(n+=' data-subtext="'+t.subtext+'"'),"undefined"!=typeof t.content&&(n+=' data-content="'+t.content+'"'),"undefined"!=typeof t.disable&&(n+=' disabled="disabled"'),n+=' value="'+t.value+'">',n+="undefined"==typeof t.text?t.value:t.text,n+="</option>"}),r.$element.html(n),n=void 0,r.refresh()},r.processing_error)},r.log=function(e,t){return"undefined"==typeof t&&(t=!1),(s.debug||t)&&console.log(e),!1},setTimeout(function(){r.init()},500)},e.fn.ajaxSelectPicker=function(t){if("object"!=typeof t){var n;return 1==this.length?(this.each(function(){n=e(this).data("ajaxSelectPicker").handle_triggers(t,e(this))}),n):(n=[],this.each(function(){n.push(e(this).data("ajaxSelectPicker").handle_triggers(t,e(this)))}),n)}return this.each(function(){void 0==e(this).data("ajaxSelectPicker")&&e(this).data("ajaxSelectPicker",new e.SteelSelect(this,t))})}}(jQuery);
